<!DOCTYPE html>
<html lang="en" ng-app='myApp'>
  <head>
    <meta charset="utf-8">
    <title>It's Lit FAM</title>
    
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/timeline.css">
    <link rel="stylesheet" type="text/css" href="css/pieChart.css">
  </head>
  <body>
    <!-- sample angular code -->
    <div class="container">
      <div ng-controller="myController">

        <!-- Nav -->
        <nav class="navbar navbar-default">
          <div class="container-fluid">
            <div class="navbar-header">
              <a class="navbar-brand" href="#">
                <p>{{company}}</p>
              </a>
            </div>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="#">Link</a></li>
            </ul>
          </div>
        </nav>

        <!-- Time Line -->
        <div class="row">
          <div class="col-md-12">
            <ol>
              <li>
                2015
                <span class="details">
                  Description of point 1
                </span>
              </li>
              <li>
                2016
                <span class="details">
                  Energy of 2016  
                </span>
              </li>
              <li>
                Fuck Dan
                <span class="details">
                  Here's your fucking timeline, dick.
                </span>
              </li>
              <li>
                Fuck Dan
                <span class="details">
                  Here's your fucking timeline, dick.
                </span>
              </li>
              <li>
                Fuck Dan
                <span class="details">
                  Here's your fucking timeline, dick.
                </span>
              </li>
              <li>
                Fuck Dan
                <span class="details">
                  Here's your fucking timeline, dick.
                </span>
              </li>
            </ol>
          </div>
        </div>

        <!-- Filters -->
        <div class="row">
          <div class="col-md-4 center">
            <label for="years">Years of Production: </label>
            <select id="years" class="years">
              <option>2000-2005</option>
              <option>2006-2010</option>
              <option selected>2011-2016</option>
            </select>
          </div>
          <div class="col-md-4 center">
            <label for="energyType">Energy Type: </label>
            <select id="energyType" class="energyType">
              <option selected>Coal</option>
              <option>Natural Gas</option>
              <option>Nuclear</option>
              <option>Renewables</option>
              <option>Petroleum</option>
            </select>
          </div>
          <div class="col-md-4 center">
            <label for="chartType">Data Chart: </label>
              <select id="chartType" class="chartType">
                <option selected>U.S. Map</option>
                <option>Table</option>                
              </select>
          </div>
        </div>

        <div class="row">
          <div class="col-md-12">
            
          </div>
        </div>


        
      <!-- end controller -->
      </div>
    </div>
    
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

    <script type="text/javascript">
      var width = 960,
    height = 500,
    radius = Math.min(width, height) / 2;

var color = d3.scale.ordinal()
    .range(["#98abc5", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c", "#ff8c00"]);

var arc = d3.svg.arc()
    .outerRadius(radius - 10)
    .innerRadius(0);

var labelArc = d3.svg.arc()
    .outerRadius(radius - 40)
    .innerRadius(radius - 40);

var pie = d3.layout.pie()
    .sort(null)
    .value(function(d) { return d.percentage; });

var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
  .append("g")
    .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

d3.csv("data.csv", type, function(error, data) {
  if (error) throw error;

  var g = svg.selectAll(".arc")
      .data(pie(data))
    .enter().append("g")
      .attr("class", "arc");

  g.append("path")
      .attr("d", arc)
      .style("fill", function(d) { return color(d.data.energy); });

  g.append("text")
      .attr("transform", function(d) { return "translate(" + labelArc.centroid(d) + ")"; })
      .attr("dy", ".35em")
      .text(function(d) { return d.data.energy; });
});

function type(d) {
  d.percentage = +d.percentage;
  return d;
}
    </script>
  </body>
</html>
